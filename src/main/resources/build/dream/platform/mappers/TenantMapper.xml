<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="build.dream.platform.mappers.TenantMapper">
    <insert id="insert" parameterType="build.dream.common.saas.domains.Tenant" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO tenant(code, name, mobile,
        email, linkman, business,
        province_code, city_code, district_code,
        partition_code, user_id, create_user_id,
        last_update_user_id)
        VALUES (#{code}, #{name}, #{mobile},
        #{email}, #{linkman}, #{business},
        #{provinceCode}, #{cityCode}, #{districtCode},
        #{partitionCode}, #{userId}, #{createUserId},
        #{lastUpdateUserId})
    </insert>

    <update id="update" parameterType="build.dream.common.saas.domains.SystemUser">
        UPDATE tenant
        SET code = #{code}, name = #{name}, mobile = #{mobile},
        email = #{email}, linkman = #{linkman}, business = #{business},
        province_code = #{provinceCode}, city_code = #{cityCode}, district_code = #{districtCode},
        partition_code = #{partitionCode}, user_id = #{userId}, create_user_id = #{createUserId},
        last_update_user_id = #{lastUpdateUserId}, deleted = #{deleted}
        WHERE id = #{id}
    </update>

    <select id="findById" resultType="build.dream.common.saas.domains.Tenant">
        SELECT * FROM tenant WHERE id = #{tenantId} AND deleted = 0
    </select>
</mapper>